# 机房预约系统
# 1、机房预约系统需求
## 1.1 系统简介
 * 学校现在有几个规格不同的机房，由于使用时经常出现“撞车”现象，现开发一套机房预约系统，解决这一问题  
  
## 1.2 身份简介
分别有三种身份使用该程序  
 * **学生代表**：申请使用机房  
 * **教师**：审核学生的预约申请  
 * **管理员**：给学生、教师创建账号  
  
## 1.3 机房简介
机房总共有3间  
 * 1号机房 ---最大容量20人  
 * 2号机房 ---最大容量50人  
 * 3号机房 ---最大容量100人  
  
## 1.4 申请简介
 * 申请的订单每周由管理员负责清空  
 * 学生可以预约未来一周内的机房使用，预约日期未周一至周五，预约时需要选择预约时段（上午、下午）  
 * 教师来审核预约，依据实际情况审核预约通过或者不通过  
  
## 1.5 系统具体需求
 * 首先进入登陆界面，可选登录身份有：
 - 学生代表  
 - 老师  
 - 管理员  
 - 退出  
 * 每个身份都需要进行验证后，进入子菜单  
 - 学生需要确认：学号、姓名、登陆密码  
 - 老师需要输入：职工号、姓名、登陆密码  
 - 管理员需要输入：管理员姓名、登陆密码  
 * 学生具体功能  
 - 申请预约 ---预约机房  
 - 查看自身的预约 ---查看自己的预约状态  
 - 查看所有预约 ---查看全部预约信息以及预约状态  
 - 取消预约 ---取消自身的预约，预约成功或审核中的预约均可取消  
 - 注销登录 ---退出登录  
 * 教师具体功能  
 - 查看所有预约 ---查看全部预约信息以及预约状态  
 - 审核预约 ---对学生的预约进行审核  
 - 注销登录 ---退出登录  
 * 管理员具体功能  
 - 添加账号 ---添加学生或教师的账号，需要检测学生编号或教师职工号是否重复  
 - 查看账号 ---可以选择查看学生或教师的全部信息  
 - 查看机房 ---查看所有机房的信息  
 - 清空预约 ---清空所有预约记录  
 - 注销登录 ---退出登录  
  
# 2、创建项目
创建项目步骤如下：  
 * 创建新项目  
 * 添加文件  
  
## 2.1 创建项目
## 2.2 添加文件
  
# 3、 创建主菜单
## 3.1 菜单实现
 * 在主函数main中添加菜单提示  
  
## 3.2 搭建接口
 * 接受用户的选择，搭建接口  
 * 在main中添加代码  
  
# 4、退出功能实现
## 4.1 退出功能实现
在main函数分支0选项中，添加退出程序的代码  
  
## 4.2 测试退出功能
  
# 5、创建身分类
## 5.1 身份的基类
 * 在整个系统中，有三种身份，分别为：学生代表，老师以及管理员  
 * 三重身份有其共性也有其特性，因此我们可以将三种身份抽象出一个身份基类identity  
 * 在头文件下创建identity.h文件  
  
## 5.2 学生类
### 5.2.1 功能分析
 * 学生类主要功能是可以通过类中成员函数，实现预约实验室操作  
 * 学生类中主要功能有：  
 - 显示学生操作的菜单界面  
 - 申请预约  
 - 查看自身预约  
 - 查看所有预约  
 - 取消预约  
  
### 类的创建
 * 在头文件以及源文件下创建student.h和student.cpp文件  
  
## 5.3 老师类
### 5.3.1 功能分析
 * 教师类主要功能是查看学生的预约，并进行审核  
 * 教师类中主要功能有：  
 - 显示教师操作的菜单界面  
 - 查看所有预约  
 - 审核预约  
  
### 类的创建
 * 在头文件以及源文件下创建teacher.h和teacher.cpp文件  
  
## 5.4 管理员类
### 5.4.1 功能分析
 * 管理员类主要功能是对学生何老师账户进行管理，查看机房信息以及清空预约记录  
 * 管理员类中主要功能有：  
 - 显示管理员操作的菜单界面  
 - 添加账号  
 - 查看账号  
 - 查看机房信息  
 - 清空预约记录  
  
### 类的创建
 * 在头文件以及源文件下创建manager.h和manager.cpp文件  
  
# 6、登录模块
## 6.1 全局文件添加
功能描述：  
 * 不同身份可能会用到不同的文件操作，我们可以将所有的文件名定义到一个全局的文件中  
 * 在头文件中添加globalFile.h文件  
并且在同级目录下，创建这几个文件  
  
## 6.2 登陆函数封装
功能描述：  
 * 根据用户的选择，进入不同的身份登录  
在预约系统的.cpp文件中添加全局函数 void LoginIn(string fileName, int type)  
参数：  
 * fileName --- 操作的文件名  
 * type --- 登陆的身份（1代表学生、2代表老师、3代表管理员）  
 * 在main函数的不同分支中，填入不同的登录接口  
  
## 6.3 学生登陆实现
在student.txt文件中添加两条学生信息，用于测试  
添加信息：  
1 张三 123  
2 李四 123456  
其中：  
 * 第一列 代表 学号  
 * 第二列 代表 学生姓名  
 * 第三列 代表 密码  
  
在LoginIn函数的学生分支中加入代码，验证学生身份  
  
## 6.4 教师登陆实现
在teacher.txt文件中添加一条老师信息，用于测试  
添加信息：  
1 老王 123  
其中：  
 * 第一列 代表 教师职工编号  
 * 第二列 代表 教师姓名  
 * 第三列 代表 密码  
  
在LoginIn函数的教师分支中加入代码，验证教师身份  
  
## 6.5 管理员登陆实现
在admin.txt文件中添加一条管理员信息，由于我们只有一名管理员，因此本案例中没有添加管理员的功能  
添加信息：  
admin 123  
其中：admin代表管理员用户名，123代表管理员密码  
  
在LoginIn函数的教师分支中加入代码，验证教师身份  
  
# 7、管理员模块
## 7.1 管理员登陆和注销
### 7.1.1 构造函数
 * 在Manager类的构造函数中，初始化管理员信息  
  
### 7.1.2 管理员子菜单
 * 在机房预约系统.cpp中，当用户登录的是管理员，添加管理员菜单接口  
 * 将不同分支提供出来  
 - 添加账号  
 - 查看账号  
 - 查看机房信息  
 - 清空预约记录  
 - 注销登录  
 * 实现注销功能  
添加全局函数 void managerMenu(Identity*& manager)  
  
### 7.1.3 菜单功能实现
 * 完善成员函数 void Manager::operMenu()的实现  
  
### 7.1.4 接口对接
 * 管理员成功登录后，调用管理员子菜单界面  
 * 在管理员登陆验证分支中，添加代码  
  
